<Window x:Class="GhostForge.WpfClient.Views.DynamicViewWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="GhostForge - 动态视图" 
        Height="600" Width="900"
        Background="{StaticResource BackgroundBrush}"
        WindowStyle="None"
        AllowsTransparency="True"
        ResizeMode="CanResizeWithGrip">
    
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Themes/MechanicusTheme.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>
    
    <Border BorderBrush="{StaticResource BorderMetallicBrush}" 
            BorderThickness="3"
            Background="{StaticResource BackgroundBrush}">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            
            <!-- 标题栏 -->
            <Border Grid.Row="0" 
                    Background="{StaticResource OverlayBrush}"
                    BorderBrush="{StaticResource BorderBrush}"
                    BorderThickness="0,0,0,2"
                    MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
                <Grid Height="40">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <TextBlock Grid.Column="0"
                               Text="⚙ GHOSTFORGE - DYNAMIC UI FORGE ⚙"
                               Style="{StaticResource MechanicusTitleStyle}"
                               FontSize="18"
                               VerticalAlignment="Center"
                               Margin="15,0"/>
                    
                    <StackPanel Grid.Column="1" 
                                Orientation="Horizontal"
                                Margin="10,0">
                        <Button Content="—" 
                                Width="30" Height="30"
                                Click="MinimizeButton_Click"
                                Style="{StaticResource MechanicusButtonStyle}"
                                Margin="5,0"/>
                        <Button Content="✕" 
                                Width="30" Height="30"
                                Click="CloseButton_Click"
                                Style="{StaticResource MechanicusButtonStyle}"
                                Margin="5,0"/>
                    </StackPanel>
                </Grid>
            </Border>
            
            <!-- 动态内容容器 -->
            <ScrollViewer Grid.Row="1" 
                          VerticalScrollBarVisibility="Auto"
                          HorizontalScrollBarVisibility="Auto">
                <ContentPresenter x:Name="DynamicContentPresenter" 
                                  Margin="20"/>
            </ScrollViewer>
            
            <!-- 加载提示 -->
            <Grid x:Name="LoadingOverlay" 
                  Grid.Row="1"
                  Background="{StaticResource OverlayBrush}"
                  Visibility="Collapsed">
                <StackPanel HorizontalAlignment="Center" 
                            VerticalAlignment="Center">
                    <TextBlock Text="⚙ LOADING ⚙"
                               Style="{StaticResource MechanicusTitleStyle}"
                               HorizontalAlignment="Center"/>
                    <TextBlock Text="Machine Spirit initializing..."
                               Style="{StaticResource MechanicusTextStyle}"
                               Margin="0,10,0,0"
                               HorizontalAlignment="Center"/>
                </StackPanel>
            </Grid>
        </Grid>
    </Border>
</Window>
